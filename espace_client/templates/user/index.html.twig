{% extends 'base.html.twig' %}

{% block title %}Liste des utilisateurs{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/user/user.css') }}">
    <link rel="stylesheet" href="{{ asset('css/layout_pages.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}

{% block body %}
    {% for label,messages in app.flashes(['success']) %}
        {% for message in messages %}
            <div class="flash flash-{{ label }}" id="flash">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}
    <h1>Liste des utilisateurs</h1>
    <hr>
    <div class="page_header">
        <h1>Liste des utilisateurs</h1>
    </div>
    <button class="btn-user-add">
        <a href="{{ path('app_user_new') }}">
            <i class="fa-solid fa-plus color-white"></i>
            Nouvel utilisateur
        </a>
    </button>
    <div class="divTable">
        <div class="divTableRow bold">
            <div class="divTableCell">Entreprise</div>
            <div class="divTableCell responsive-user">Civilité</div>
            <div class="divTableCell responsive-user">Prénom</div>
            <div class="divTableCell responsive-user">Nom</div>
            <div class="divTableCell">Email</div>
        </div>
        {% for user in users %}
                <div class="divTableRow" onclick="location.href='{{ path('app_admin_category_index', {'user_login': user.login}) }}';">
                    <div class="divTableCell padding-right-after-cut-word cut-txt-overflow">{{ user.enterprise }}</div>
                    <div class="divTableCell responsive-user">{{ user.civility }}</div>
                    <div class="divTableCell padding-right-after-cut-word cut-txt-overflow responsive-user">{{ user.firstname }}</div>
                    <div class="divTableCell padding-right-after-cut-word cut-txt-overflow responsive-user">{{ user.lastname }}</div>
                    <div class="divTableCell">&nbsp;{{ user.email }}</div>
                </div>
        {% else %}
        {% endfor %}
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/alert.js') }}"></script>
    <script type="text/javascript">
        timeOut('flash', 800);
    </script>
{% endblock %}
